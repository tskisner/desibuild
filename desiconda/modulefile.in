#%Module###<-magic cookie ####################################################
##
##   Software dependencies for the DESI spectroscopic pipeline.
##
##
# variables for Tcl script use only
set     version  @MODULE_VERSION@

module-whatis "Loads software dependencies for DESI spectro pipeline."

proc ModulesHelp { } {
  global version
  puts stderr "\t\t DESI software dependencies - Version $version\n"
  puts stderr "\t This loads a conda environment and other compiled"
  puts stderr "\t software needed by the spectro pipeline."
  puts stderr ""
}

conflict desiconda

@modload@

# This is set by OS python and gives us problems.
unsetenv PYTHONSTARTUP

# This is the conda environment location
prepend-path PATH @CONDA_ROOT@/bin
setenv PYTHONPATH @CONDA_ROOT@/lib/python3.5/site-packages
setenv DESICONDA @CONDA_ROOT@

# This is the location of the extra compiled software
prepend-path PATH @PREFIX@/bin
prepend-path CPATH @PREFIX@/include
prepend-path LD_LIBRARY_PATH @PREFIX@/lib
prepend-path LIBRARY_PATH @PREFIX@/lib
prepend-path PYTHONPATH @PREFIX@/lib/python3.5/site-packages
